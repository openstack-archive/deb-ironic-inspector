Description: fix path to ironic-inspector-rootwrap
Author: Thomas Goirand <zigo@debian.org>
Forwarded: no
Last-Update: 2015-10-30

--- a/ironic_inspector/firewall.py
+++ b/ironic_inspector/firewall.py
@@ -67,7 +67,7 @@
     INTERFACE = CONF.firewall.dnsmasq_interface
     CHAIN = CONF.firewall.firewall_chain
     NEW_CHAIN = CHAIN + '_temp'
-    BASE_COMMAND = ('sudo', 'ironic-inspector-rootwrap',
+    BASE_COMMAND = ('sudo', '/usr/bin/ironic-inspector-rootwrap',
                     CONF.rootwrap_config, 'iptables',)
 
     # -w flag makes iptables wait for xtables lock, but it's not supported
--- a/ironic_inspector/test/unit/test_firewall.py
+++ b/ironic_inspector/test/unit/test_firewall.py
@@ -54,7 +54,7 @@
         for (args, call) in zip(init_expected_args, call_args_list):
             self.assertEqual(args, call[0])
 
-        expected = ('sudo', 'ironic-inspector-rootwrap', rootwrap_path,
+        expected = ('sudo', '/usr/bin/ironic-inspector-rootwrap', rootwrap_path,
                     'iptables', '-w')
         self.assertEqual(expected, firewall.BASE_COMMAND)
 
@@ -76,7 +76,7 @@
         for (args, call) in zip(init_expected_args, call_args_list):
             self.assertEqual(args, call[0])
 
-        expected = ('sudo', 'ironic-inspector-rootwrap', rootwrap_path,
+        expected = ('sudo', '/usr/bin/ironic-inspector-rootwrap', rootwrap_path,
                     'iptables',)
         self.assertEqual(expected, firewall.BASE_COMMAND)
 
